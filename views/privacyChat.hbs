<style>
    .chat-message {
        border: 0px;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font: 13px Helvetica, Arial;
    }

    form {
        padding: 3px;
        position: fixed;
        bottom: 0;
        width: 100%;
    }

    form input {
        background: white;
        border: #DF6A2C 1px solid;
        padding: 10px;
        width: 30%;
        margin-right: 0.5%;
    }

    form button {
        width: 9%;
        background: rgb(130, 224, 255);
        border: none;
        padding: 10px;
    }

    #messages {
        position: relative;
        list-style-type: none;
        margin: 0;
        padding: 0;
    }

    #messages li {
        width: 20em;
        background: #eee;
        padding: 5px 10px;
    }

    #messages li:nth-child(odd) {
        background: #eee;
    }

    .my-msg {
        position: relative;
        right: 0;
    }
</style>
<div class="container" style="width: 100%">
    <div class="row">
        <div class="col-3">
            {{> nav}}
        </div>
        <div class="col-3" id="activeUsers">
            {{> onlineUsers}}
        </div>
        <div class="col-6">
            <div class="card text-start" style=" height:50em">
                <div class="card-header"><strong>{{roomName}}</strong></div>
                <div class="card-body" style="overflow: auto;">
                    <ul class="list-group list-group-flush" id="messages">
                        {{#each chattingUsers}}
                        {{#ifCond this.status 'online'}}
                        <li class="list-group-item text-center chat-message ">{{this.account}} 上線</li>
                        {{/ifCond}}
                        {{#ifCond this.status 'offline'}}
                        <li class="list-group-item text-center chat-message ">{{this.account}} 離線</li>
                        {{/ifCond}}
                        {{#ifCond this.status 'chatting'}}
                        {{#if this.isMe}}
                        <li class="list-group-item text-end chat-message ">{{this.message}}</li>
                        {{else}}
                        <li class="list-group-item text-start chat-message ">{{this.message}}</li>
                        {{/if}}
                        {{/ifCond}}
                        {{/each}}
                    </ul>
                </div>
                <div class="card-footer text-muted">
                    <form action="">
                        <input id="m" autocomplete="off" /><button>Send</button>
                    </form>
                </div>
            </div>
            {{!-- <div>
                <div class="container" style="width: 100%">
                    <ul id="messages"></ul>
                    <form action="">
                        <input id="m" autocomplete="off" /><button>Send</button>
                    </form>
                </div>
            </div> --}}


        </div>
    </div>
</div>


<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
    const socket = io( {
        path: '/chats'
    })
    console.log()
    socket.emit('add', data)
    socket.on('new', (data) => {
        console.log(data)
    })
</script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>